# 数据仓库与数据挖掘大作业

| 工作   | 任务一的大体框架+任务二的KMeans自行实现 | 任务二的大体框架+任务一的KNN实现 |      |      |
| ------ | --------------------------------------- | -------------------------------- | ---- | ---- |
| 完成人 | 孙璋亮                                  | 梁好                             

## 任务一 患者肺损伤辅助决策

### 预处理

​		在本次任务重，由于表格提供的数据多，也就是可能影响最终分类结果的数据多。另外，对于提供的数据，很多存在缺失项，对于这些缺失项，采用中值填充的方法填充。

​		另外，对于数据进行归一化也是很重要的一点，归一化后的数据在同一尺度，防止某些特征的量纲大小对于最终的结果产生不利的影响。本任务中我们采用标准化对数据进行处理。

### 特征选择

​		由于本次任务提供的数据集中存在很多的数据维度，为了减少模型的参数量。需要对数据的特征进行筛选。

在没有进行特征选择前，有42个特征维度。模型参数很大。

​		在本次任务中，可以采用多种特征选择方法，本次任务中，我们尝试了embbed，warp，filter方法。其中embbed方法采用了SVMClassifier的正则化参数C（设置为0.01）实现。filter方法采用互信息和chi方方法选择。wrap方法采用递归特征筛选（RFE）实现，使用岭回归器作为选择器。

### 实验结果与分析

>本次实验中，我们自行实现了KNeighbourClassifier分类器。这种分类器利用特征维度上最接近的点的标签作为指导生成自己的标签的预测。

#### 预处理

​			对于数据，首先我们讲标签数值化。设置性别的特征值男为0，女为1。

​			如果不对数据进行填补和规范化，最终完全拥有所有维度信息的病例数为10条，10条数据是完全不能训练的，且这10条数据中，导致最终类别出现误差，例如部分标签类别并未在这10条数据中出现过。

​			在实际测试中发现了如上问题，直接丢弃存在特征维度空缺的数据导致分类器完全不能使用，f1-score为0.4。这说明分类器没有学习好分类规则。同时注意到，标签为2类别的数据在这些数据里没有出现。

|              | precision | recall | f1-score | support |
| ------------ | --------- | ------ | -------- | ------- |
| 0            | 0.00      | 0.00   | 0.00     | 3       |
| 1            | 0.40      | 1.00   | 0.57     | 2       |
| accuracy     |           |        | 0.40     | 5       |
| macro avg    | 0.20      | 0.50   | 0.29     | 5       |
| weighted avg | 0.16      | 0.40   | 0.23     | 5       |

​			对于特定的分类器不能接受特征为负值，在这一点上我们也可以通过标准归一化进行数据预处理。本次任务中我们采用的是标准归一化。

#### 特征选择

​			对于原有的特征，我们选取采用



